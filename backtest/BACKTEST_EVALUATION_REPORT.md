# 為替レート月次予想バックテスト評価レポート

**対象期間**: 2022-01〜2025-11（バックテスト対象月は 2022-03〜2025-11, 45件）

---

## 0. 前提上の注意点（シナリオ設定の限界）

本バックテストで用いているシナリオ設定は、**2025年10月時点の変動率や m 座標の変動トレンドを基準に算出された固定的なシナリオ**を、過去の全ての予想月に機械的に当てはめています。そのため、本来であれば**各予想月の直近3か月ボラ＋m 座標トレンドなどを踏まえた状況に応じたシナリオ**を毎回組み直すべきところ、実際のその月の相場状況と噛み合っていません。

特に TRY については、

- 過去の多くの期間では m 座標が「下降推移」であったのに対し、
- 2025年10月は「収束トレンド」に近い状態である

にもかかわらず、2025年10月の変動率・m 座標トレンドを基準に全体のシナリオを組んでいるため、TRY の水準が相対的に「高めに出やすい」バイアスが含まれている可能性があります。

このように、

- シナリオレンジ（中心・リスク）の設定が
  - 各予想月の直近ボラティリティ
  - 直近トレンド（m 座標）
- に連動しておらず、固定的な想定に引きずられているため、

**以下のバックテスト結果は「構造モデル＋固定シナリオ」の目安としては見られるが、実務的には"参考程度"の精度評価である**

という前提を置いたうえで読む必要があります。

**逆に言えば、シナリオ設定を各時期の市場環境に沿ったものにすることで、更なる精度改善が期待できる可能性があります。**

---

## 1. 分析対象と前提

**データ**: `backtest_results_2022_2025.csv`

**通貨ペア**:
- USDJPY
- USDTRY
- TRYJPY

**各月について**:
- 翌月の「中心シナリオレンジ」: `pred_center_min/max/mid`
- 「リスクレンジ」: `pred_risk_lower/upper`
- 「実績値」: `actual`
- 「誤差率」: `error_pct`（= 中心シナリオ中値と実績の乖離％）

**本レポートでは、以下の指標で精度を評価しています**:

- **平均誤差（%）**: 予測のバイアス（高め／低め）
- **平均絶対誤差 MAE（%）**: 誤差の大きさの平均
- **RMSE（%）**: 大きな外れ値を重く見る誤差指標
- **中心シナリオ的中率（%）**: 実績が center_min〜center_max に入った割合
- **リスクレンジ的中率（%）**: 実績が risk_lower〜risk_upper に入った割合

**レンジ幅**:
- 中心レンジ幅 ≒ 予想値 ±(中心幅/2)
- リスクレンジ幅 ≒ 予想値 ±(リスク幅/2)

---

## 2. 全期間（2022-03〜2025-11, 45ヶ月）の精度

### 2-1. 主要指標（3通貨ペア）

全期間の集計結果（誤差％はすべて「実績に対する％」）：

| 通貨ペア | 件数 | 平均誤差 | 平均絶対誤差 | RMSE | 中心シナリオ的中率 | リスクレンジ的中率 |
|---------|------|----------|-------------|------|------------------|------------------|
| USDJPY  | 45   | -0.27%   | 2.31%       | 3.05%| 42.2%            | 86.7%            |
| USDTRY  | 45   | +0.41%   | 2.40%       | 3.52%| 40.0%            | 88.9%            |
| TRYJPY  | 45   | -0.56%   | 3.05%       | 3.94%| 44.4%            | 82.2%            |

**レンジ幅（平均値）**:

- **中心シナリオ幅**（min〜max の全幅）
  - USDJPY: 約 2.66%（≒ 予想値 ±1.3%）
  - USDTRY: 約 3.39%（≒ 予想値 ±1.7%）
  - TRYJPY: 約 5.21%（≒ 予想値 ±2.6%）

- **リスクレンジ幅**: 3通貨ペア共通で約 10.25%（≒ 予想値 ±5.1%）

**最大誤差**（1ヶ月あたりの最大外れ）:
- USDJPY: 約 6.98%
- USDTRY: 約 13.38%（2023-06）
- TRYJPY: 約 11.34%（同じく 2023-06）

### 2-2. 評価

#### 水準予測の精度（MAEベース）

- **USDJPY / USDTRY**: 平均絶対誤差 2.3〜2.4％
- **TRYJPY**: 3.1％前後

→ 「1か月先を平均誤差 2〜3％で見られている」という意味で、現実的には"良好〜やや良好"な水準。
※ただし前述のとおり、**シナリオ幅が固定である点に留意**。

#### バイアス（平均誤差）

- **USDJPY**: 平均 -0.27％ → やや控えめに予測（実績より少し低めを出しやすい）
- **USDTRY**: 平均 +0.41％ → やや高めに予測
- **TRYJPY**: 平均 -0.56％ → やや低め

→ バイアス自体は ±0.5％程度に収まっており、大きな一方向バイアスはないが、TRY については「2025年10月の収束トレンド基準のシナリオを過去に当てはめている」という構造上、本来より高めに出ている可能性はある。

#### 中心シナリオ vs リスクレンジ

- **中心シナリオ的中率**: 40〜44％
  → 「約半分は外れる」水準で、ピンポイント予測としては"参考程度"。

- **リスクレンジ的中率**: 82〜89％
  → ±5％のレンジを設定することで、約8〜9割の月で実績が収まっている。
  → リスク管理用のレンジとしてはかなり信頼性が高いと言える。

#### 外れ値・イベント期

最大の外れは **2023-06（トルコ大統領選挙期）** に集中:
- USDTRY: -13.4％
- TRYJPY: +11.3％

→ 政治イベント時に大きく外すこと、そして固定シナリオがその月の実際のボラ・トレンドを反映していないことが、精度悪化の主要因になっている。

---

## 3. 安定期（2023-08〜2025-11, 28ヶ月）の精度

READMEで「安定期」としている区間（政治イベント後）だけを取り出して評価すると以下のとおりです。

| 通貨ペア | 件数 | 平均誤差 | 平均絶対誤差 | RMSE | 中心シナリオ的中率 | リスクレンジ的中率 |
|---------|------|----------|-------------|------|------------------|------------------|
| USDJPY  | 28   | -0.48%   | 2.02%       | 2.88%| 46.4%            | 85.7%            |
| USDTRY  | 28   | +0.60%   | 1.85%       | 2.56%| 39.3%            | 96.4%            |
| TRYJPY  | 28   | -0.97%   | 2.77%       | 3.53%| 46.4%            | 85.7%            |

**中心レンジ幅**（全幅）:
- USDJPY: 約 2.49%（≒ ±1.25%）
- USDTRY: 約 2.91%（≒ ±1.46%）
- TRYJPY: 約 5.28%（≒ ±2.64%）

**リスクレンジ幅**: 3通貨とも 約 10.25%（≒ ±5.1%）

**最大誤差**（安定期のみ）:
- USDJPY: 6.98％
- USDTRY: 8.53％
- TRYJPY: 8.72％

### 評価ポイント

#### 精度は明確に改善

- 全期間 MAE: 2.3〜3.1％ → 安定期 MAE: 1.85〜2.77％
- 特に **USDTRY での改善が大きく**、RMSE も 4.70％ → 2.56％程度に大幅低下。

ただし、ここでも「**シナリオ設定が2025年10月ベースである**」という構造的制約は残ったまま。

#### リスクレンジの信頼性が非常に高い

- **USDTRY のリスクレンジ的中率: 96.4％**
- 他の2ペアも 85％台で、全体として
  → 「±5％のリスクレンジを出しておけば、安定期はほぼその中に収まる」という結果になっている。

#### バイアスの傾向

- **USDJPY / TRYJPY**: 平均して やや低め（-0.5〜-1％） に予測
- **USDTRY**: 平均して やや高め（+0.6％） に予測

→ TRY の「高めに出やすい」可能性は、m 座標トレンド基準のシナリオ設計にも起因していると考えられる。

---

## 4. 混乱期（〜2023-07, 17ヶ月）の特徴

安定期前（ターゲット月が 2023-07 まで）だけを切り出すと：

**平均絶対誤差**:
- USDJPY: 2.79％
- USDTRY: 3.30％
- TRYJPY: 3.51％

**リスクレンジ的中率**:
- USDJPY: 88.2％
- USDTRY / TRYJPY: 76.5％ と安定期より悪化

中心レンジ幅はやや広めに取っているにもかかわらず、政治イベント（特に **2023-06 のトルコ大統領選挙**）をきっかけに一度大きく外しているのがボトルネック。

### 評価

**「政治的ショックを含む期間では精度が落ちる」**という README の主張は、実際の数値（誤差・RMSE・的中率）から見ても妥当。

ただし、その悪化には
- イベントそのもの
- ＋「シナリオ設定が各月の直近ボラに追随していない」

という二重の要因が絡んでおり、現状のバックテストは"保守的な意味での上限評価"と見るべき。

---

## 5. 総合評価（実務的な観点）

### 1か月先の水準予測としての精度

- **全体**: 平均絶対誤差 2.3〜3.1％
- **安定期**: 1.85〜2.77％

→ 通常の感覚では
- **2％前後**: かなり高めの精度
- **3％前後**: 実務上「良好」

だが、本ケースでは
**「シナリオ設定が各月の実際の環境にフィットしていないため、"よくできているが参考値"レベルの評価にとどまる」**
という位置づけが妥当。

### 中心シナリオ vs リスクレンジの役割分担

- **中心シナリオ的中率は 40〜46％程度**
  → 「方向と大まかな水準を見るためのベースライン」

- **リスクレンジ（±5％）は 82〜96％的中**
  → 「想定外かどうかを判定するためのリスク管理ツール」

→ ただし、これらのレンジは「2025年10月基準」であるため、

**実務で使うなら、各予想月の直近3か月ボラ＋m 座標トレンドなどを踏まえた状況に応じたシナリオを毎回組み直す必要がある。**
現バックテストは、その前段階としての"お試し版"という位置づけ。

### 限界と注意点

1. **月次平均レートを用いているため**、月内の急激な変動や一瞬のスパイクは捉えられない。

2. **シナリオ幅が固定であり**、各月の直近ボラ・トレンドを反映していない。
   → 特に TRY で「高めに出やすい」歪みが入り得る。

3. **PPP推定やマクロ変数に依存した構造モデル**なので、短期のフロー主導相場には弱い。

---

## 6. 一文まとめ

このバックテストは、**「2025年10月時点の想定シナリオを過去に固定的に当てはめた場合にどの程度の精度になるか」を見るもの**であり、各予想月の直近3か月ボラ＋m 座標トレンドなどを踏まえた状況に応じたシナリオ設計を行う前の、あくまで**参考程度の評価として解釈するのが適切**である。

---

**作成日**: 2025-12-01
**データソース**: `backtest_results_2022_2025.csv`
**分析ツール**: `analyze_backtest_results.py`
